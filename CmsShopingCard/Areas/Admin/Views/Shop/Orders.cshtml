@model IEnumerable<CmsShopingCard.Areas.Admin.ViewModels.Shop.OrdersForAdmin>

@{
    ViewBag.Title = "Orders";
}
<div class="pl-3">

    <h2 class="mb-4">Orders</h2>

    @if (!Model.Any())
    {
        <h2>There Are No Orders..</h2>
    }
    else
    {
        <table class="table table-striped table-bordered" id="orders-table">
            <thead>
                <tr>
                    <th>
                        Order Number
                    </th>
                    <th>
                        UserName
                    </th>
                    <th>
                        Order Details
                    </th>

                    <th>
                        Order Data
                    </th>
                    <th>
                        Total
                    </th>
                </tr>

            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.OrderNumber)
                        </td>
                        <td>
                            @*@Html.DisplayFor(modelItem => item.User.UserName)*@
                            <a class="text-dark user-details-btn" href="#" data-user-id="@item.User.UserId">@item.User.UserName</a>
                        </td>
                        <td>
                            @foreach (var item2 in item.ProductAndQuantity)
                            {
                                <span class="orange-dot"><i class="fas fa-circle"></i></span>
                                @item2.Key @:<strong class="orange">Qty:</strong> @item2.Value <br />
                            }
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.CreatedAt)
                        </td>
                        <td>
                            $@Html.DisplayFor(modelItem => item.Total)
                        </td>

                    </tr>
                }

            </tbody>

        </table>

    }
</div>

<!-- Sign-Up Model -->
<div class="modal fade" id="client-details">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                @*<h4 class="modal-title">Client Details</h4>*@
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="client-modal-body">

                @*  *@
            </div>
            <div class="modal-footer">
                <button class="btn btn-danger" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>




@section scripts{

    <script>

        $(document).ready(function () {
            $('#orders-table').DataTable();

        });



    </script>
}